<app-header></app-header>
<div id="sign-up-wrapper" class="fade-in">
  <span class="title">{{title}}</span>
  <span class="sub-title">{{subTitle}}</span>
  
  <div class="success-area" *ngIf="successMessage">
    <p class="success-message">{{successMessage}}</p>
  </div>
  
  <div class="error-area" *ngIf="errors().length > 0">
    <p>{{'security-feature.sign-up-page.error.description' | translate: {count: errors().length} }}</p>
    <p *ngFor="let error of errors()">{{error.control}} {{error.error}}</p>
    <p *ngIf="get('confirmPassword')?.hasError('passwordMismatch') && get('confirmPassword')?.touched">
      Les mots de passe ne correspondent pas
    </p>
  </div>

  <form [formGroup]="formGroup">

    <section id="content">
      <app-floating-label-input
        [label]="'Nom d\'utilisateur'"
        [control]="get('username')"
        [formGroup]="formGroup">
      </app-floating-label-input>
      
      <app-floating-label-input
        [label]="'Email'"
        [control]="get('email')"
        [formGroup]="formGroup"
        type="email">
      </app-floating-label-input>
      
      <app-floating-label-input
        [label]="'Mot de passe'"
        [control]="get('password')"
        [formGroup]="formGroup"
        type="password">
      </app-floating-label-input>
      
      <app-floating-label-input
        [label]="'Confirmer le mot de passe'"
        [control]="get('confirmPassword')"
        [formGroup]="formGroup"
        type="password">
      </app-floating-label-input>
    </section>

    <div class="button-area">
      <button type="button" class="btn-primary" (click)="signUp()">S'inscrire</button>
      <button type="button" class="btn-secondary" (click)="goToSignIn()">Déjà un compte ? Se connecter</button>
    </div>
  </form>
</div>
